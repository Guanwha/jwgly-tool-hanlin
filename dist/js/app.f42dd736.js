(function(t){function e(e){for(var s,c,r=e[0],d=e[1],o=e[2],u=0,b=[];u<r.length;u++)c=r[u],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&b.push(i[c][0]),i[c]=0;for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(t[s]=d[s]);l&&l(e);while(b.length)b.shift()();return n.push.apply(n,o||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var d=a[r];0!==i[d]&&(s=!1)}s&&(n.splice(e--,1),t=c(c.s=a[0]))}return t}var s={},i={app:0},n=[];function c(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=s,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(a,s,function(e){return t[e]}.bind(null,s));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/jwgly-tool-hanlin/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=e,r=r.slice();for(var o=0;o<r.length;o++)e(r[o]);var l=d;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0917":function(t,e,a){},"0f30":function(t,e,a){},"20c1":function(t,e,a){"use strict";var s=a("ad6a"),i=a.n(s);i.a},"3d0a":function(t,e,a){},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=n(t);return a(e)}function n(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="4678"},"52bf":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),i=a("289d"),n=(a("5abe"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrap",attrs:{id:"app"}},[a("HanlinFlow")],1)}),c=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),a("b-tabs",{attrs:{type:"is-boxed",expanded:""}},[a("b-tab-item",{attrs:{label:"成員",icon:"users"}},[a("TabMembers")],1),a("b-tab-item",{attrs:{label:"讀書前",icon:"clipboard-list"}},[a("TabReadingBefore")],1),a("b-tab-item",{attrs:{label:"讀書中",icon:"chalkboard-teacher"}},[a("TabReading")],1)],1),a("div",[t._v(t._s(t.displayVersion))])],1)},d=[],o=a("5530"),l=a("2f62"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"button is-primary mt-1 mb-1",on:{click:t.showDialogToCreateMember}},[t._v(" 新增成員 ")]),a("div",{staticClass:"table-wrapper has-mobile-cards"},[a("table",{staticClass:"table is-striped is-narrow is-hoverable"},[t._m(0),a("tbody",t._l(t.members,(function(e){return a("tr",{key:e.id,staticClass:"flex-center",attrs:{draggable:"false"}},[a("td",{staticClass:"flex-center has-text-centered",attrs:{"data-label":"可開"}},[a("b-checkbox",{staticStyle:{padding:"0"},attrs:{disabled:""},model:{value:e.beTeacher,callback:function(a){t.$set(e,"beTeacher",a)},expression:"member.beTeacher"}})],1),a("td",{staticClass:"flex-center has-text-centered",attrs:{"data-label":"候補"}},[a("b-checkbox",{staticStyle:{padding:"0"},attrs:{disabled:""},model:{value:e.beAlternate,callback:function(a){t.$set(e,"beAlternate",a)},expression:"member.beAlternate"}})],1),a("td",{staticClass:"has-text-centered",attrs:{"data-label":"官品"}},[t._v(t._s(t.grades[e.grade]))]),a("td",{staticClass:"has-text-centered",attrs:{"data-label":"名字"}},[t._v(t._s(e.name))]),a("td",{staticClass:"has-text-centered",attrs:{"data-label":"功能"}},[a("button",{staticClass:"button is-primary is-outlined fas fa-pen",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.showDialogToEditMember(e)}}})])])})),0)])]),a("b-modal",{attrs:{active:t.showDialog,"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},on:{close:t.closeDialog}},[a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head p-0-8"},[a("p",{staticClass:"modal-card-title has-text-weight-bold"},[t._v("新增成員")])]),a("section",{staticClass:"modal-card-body"},[a("b-field",{staticClass:"has-text-left",attrs:{label:"名字"}},[a("b-input",{attrs:{required:""},model:{value:t.curMember.name,callback:function(e){t.$set(t.curMember,"name",e)},expression:"curMember.name"}})],1),a("b-field",{staticClass:"has-text-left",attrs:{label:"官品"}},[a("b-dropdown",{attrs:{"aria-role":"list"},model:{value:t.curMember.grade,callback:function(e){t.$set(t.curMember,"grade",t._n(e))},expression:"curMember.grade"}},[a("button",{staticClass:"button is-primary",attrs:{slot:"trigger",type:"button"},slot:"trigger"},[[a("span",[t._v(t._s(t.grades[t.curMember.grade]))])],a("b-icon",{attrs:{icon:"caret-down"}})],2),t._l(t.grades,(function(e,s){return a("b-dropdown-item",{key:s,attrs:{value:s,"aria-role":"listitem"}},[a("div",{staticClass:"media"},[a("div",{staticClass:"media-content"},[a("h3",[t._v(t._s(e))])])])])}))],2)],1),a("div",{staticClass:"field has-text-left",staticStyle:{"padding-top":"0.8rem"}},[a("b-checkbox",{model:{value:t.curMember.beTeacher,callback:function(e){t.$set(t.curMember,"beTeacher",e)},expression:"curMember.beTeacher"}},[t._v("是否可以開桌")])],1),a("div",{staticClass:"field has-text-left",staticStyle:{"padding-top":"0.8rem"}},[a("b-checkbox",{model:{value:t.curMember.beAlternate,callback:function(e){t.$set(t.curMember,"beAlternate",e)},expression:"curMember.beAlternate"}},[t._v("是否為候補")])],1)],1),a("footer",{staticClass:"modal-card-foot flex-rsbc p-0-8"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.cancel(e)}}},[t._v("取消")]),t.isCreate?t._e():a("button",{staticClass:"button is-danger is-outlined fas fa-trash",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.deleteMember(t.curMember)}}}),t.isCreate?a("button",{staticClass:"button is-primary",on:{click:function(e){return e.preventDefault(),t.createMember(t.curMember)}}},[t._v(" 新增 ")]):a("button",{staticClass:"button is-primary",on:{click:function(e){return e.preventDefault(),t.updateMember(t.curMember)}}},[t._v(" 更新 ")])])])])],1)},b=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticStyle:{width:"10%"}},[a("div",{staticClass:"th-wrap has-text-centered"},[t._v("可開")])]),a("th",{staticStyle:{width:"10%"}},[a("div",{staticClass:"th-wrap has-text-centered"},[t._v("候補")])]),a("th",{staticStyle:{width:"20%","min-width":"3rem"}},[a("div",{staticClass:"th-wrap has-text-centered"},[t._v("官品")])]),a("th",{staticStyle:{"min-width":"4rem"}},[a("div",{staticClass:"th-wrap has-text-centered"},[t._v("名字")])]),a("th",{staticStyle:{width:"10%"}},[a("div",{staticClass:"th-wrap has-text-centered"},[t._v("功能")])])])])}],f={100:"正一",101:"從一",102:"正二",103:"從二",104:"正三",105:"從三",106:"正四",107:"從四",108:"正五",109:"從五",110:"正六",111:"從六",112:"正七",113:"從七",114:"正八",115:"從八",116:"正九",117:"從九"},m={name:"",grade:103,beTeacher:!1,beAlternate:!1,timestamp:null},h={data:function(){return{isCreate:!0,curMember:{name:"",grade:103,beTeacher:!1,beAlternate:!1,timestamp:null},grades:f}},methods:Object(o["a"])({showDialogToCreateMember:function(){this.curMember=Object(o["a"])({},m),this.openDialog(),this.isCreate=!0},showDialogToEditMember:function(t){this.curMember=Object(o["a"])({},t),this.openDialog(),this.isCreate=!1}},Object(l["b"])(["openDialog","createMember","updateMember","deleteMember","closeDialog","cancel"])),computed:Object(o["a"])({},Object(l["c"])(["members","showDialog"]))},p=h,v=(a("87e8"),a("2877")),g=Object(v["a"])(p,u,b,!1,null,"f968e9f8",null),j=g.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-tabs",{attrs:{type:"is-boxed",expanded:""}},[a("b-tab-item",{attrs:{label:"狀態",icon:"clipboard-list"}},[a("SubTabSetReadingStatus")],1),a("b-tab-item",{attrs:{label:"老杜桌",icon:"book-medical"}},[a("SubTabSetHasRead")],1),a("b-tab-item",{attrs:{label:"檢查表",icon:"check-square"}},[a("SubTabSetLocalChecking")],1)],1)},S=[],C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flex-rsbc"},[a("button",{staticClass:"button space-top space-bottom",staticStyle:{width:"5rem"},on:{click:function(e){return e.preventDefault(),t.resetReadingStatus()}}},[t._v(" 初始化 ")]),a("button",{staticClass:"button space-top space-bottom",class:[1===t.readingSetupStatus?"is-dark":"is-primary"],on:{click:function(e){return e.preventDefault(),t.switchReadingSetupOperation()}}},[t._v(" 切換 已讀/未下課 ")]),a("button",{staticClass:"button space-top space-bottom",staticStyle:{width:"5rem"},on:{click:function(e){return e.preventDefault(),t.getMembers()}}},[a("i",{staticClass:"fas fa-sync"})])]),1===t.readingSetupStatus?a("div",{staticClass:"space-bottom"},[t._v("請選擇 已讀 人員")]):t._e(),2===t.readingSetupStatus?a("div",{staticClass:"space-bottom"},[t._v("請選擇 未下課 / 飛行中 人員")]):t._e(),a("div",{staticClass:"table-reading-status"},t._l(t.members,(function(e){return a("div",{key:e.id,staticClass:"cell"},[a("button",{staticClass:"button",class:[e.readingStatus?1===e.readingStatus?"is-dark":"is-primary":""],on:{click:function(a){return a.preventDefault(),t.switchReadingStatus(e)}}},[t._v(" "+t._s(e.name)+" ")])])})),0),a("div",{staticClass:"updated-time"},[t._v("最後更新時間："+t._s(t.lastUpdatedTime))]),a("hr",{staticClass:"mt-0"}),t._m(0)])},y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"readme"},[a("div",[t._v("顏色說明：")]),a("div",[a("button",{staticClass:"button is-dark"}),a("span",[t._v("已讀")])]),a("div",[a("button",{staticClass:"button"}),a("span",[t._v("未讀")])]),a("div",[a("button",{staticClass:"button is-primary"}),a("span",[t._v("未下課 / 飛行中")])])])}],k={methods:Object(o["a"])({},Object(l["b"])(["getMembers","resetReadingStatus","switchReadingSetupOperation","switchReadingStatus"])),computed:Object(o["a"])({},Object(l["c"])(["readingSetupStatus","members","lastUpdatedTime"]))},w=k,T=(a("a717"),Object(v["a"])(w,C,y,!1,null,"1c1ff24a",null)),R=T.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flex-rsbc"},[a("button",{staticClass:"button space-top space-bottom",staticStyle:{width:"5rem"},on:{click:function(e){return e.preventDefault(),t.resetHasRead()}}},[t._v(" 初始化 ")]),a("button",{staticClass:"button space-top space-bottom",staticStyle:{width:"5rem"},on:{click:function(e){return e.preventDefault(),t.getMembers()}}},[a("i",{staticClass:"fas fa-sync"})])]),a("div",{staticClass:"space-bottom"},[t._v("請選擇 已讀老杜桌 人員")]),a("div",{staticClass:"table-reading-status"},t._l(t.members,(function(e){return a("div",{key:e.id,staticClass:"cell"},[a("button",{staticClass:"button",class:[e.hasRead?"is-danger":""],on:{click:function(a){return a.preventDefault(),t.switchHasRead(e)}}},[t._v(" "+t._s(e.name)+" ")])])})),0),a("hr",{staticClass:"mt-0"}),t._m(0)])},M=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"readme"},[a("div",[t._v("顏色說明：")]),a("div",[a("button",{staticClass:"button is-danger"}),a("span",[t._v("已讀老杜桌")])]),a("div",[a("button",{staticClass:"button"}),a("span",[t._v("未讀老杜桌")])])])}],x={methods:Object(o["a"])({},Object(l["b"])(["getMembers","resetHasRead","switchHasRead"])),computed:Object(o["a"])({},Object(l["c"])(["members"]))},L=x,E=(a("20c1"),Object(v["a"])(L,O,M,!1,null,"066eb920",null)),D=E.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"flex-rsbc"},[a("button",{staticClass:"button space-top space-bottom",staticStyle:{width:"5rem"},on:{click:function(e){return e.preventDefault(),t.resetChecks()}}},[t._v(" 初始化 ")]),a("button",{staticClass:"button space-top space-bottom",staticStyle:{width:"5rem"},on:{click:function(e){return e.preventDefault(),t.getMembers()}}},[a("i",{staticClass:"fas fa-sync"})])]),a("div",{staticClass:"space-bottom"},[t._v("狀態不會同步，請隨意使用")]),a("div",{staticClass:"table-reading-status"},t._l(t.members,(function(e){return a("div",{key:e.id,staticClass:"cell"},[a("button",{staticClass:"button",class:[t.checks[e.id]?"is-success":""],on:{click:function(a){return a.preventDefault(),t.setCheck(e.id)}}},[t._v(" "+t._s(e.name)+" ")])])})),0)])},A=[],U={data:function(){return{checks:{}}},methods:Object(o["a"])({resetChecks:function(){this.checks={}},setCheck:function(t){this.checks[t]?this.$set(this.checks,t,!this.checks[t]):this.$set(this.checks,t,!0)}},Object(l["b"])(["getMembers"])),computed:Object(o["a"])({},Object(l["c"])(["members"]))},H=U,G=(a("b3de"),Object(v["a"])(H,I,A,!1,null,"0ac79592",null)),z=G.exports,$={components:{SubTabSetReadingStatus:R,SubTabSetHasRead:D,SubTabSetLocalChecking:z},methods:Object(o["a"])({},Object(l["b"])(["getMembers","resetReadingStatus","switchReadingSetupOperation","switchReadingStatus"])),computed:Object(o["a"])({},Object(l["c"])(["readingSetupStatus","members","lastUpdatedTime"]))},N=$,P=(a("b838"),Object(v["a"])(N,_,S,!1,null,"1b5bd95d",null)),F=P.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-collapse",{staticClass:"panel",attrs:{"aria-id":"contentIdForA11y2",animation:"slide",open:t.showSetting},on:{"update:open":function(e){t.showSetting=e}}},[a("div",{staticClass:"block-header has-background-white-ter",attrs:{slot:"trigger",role:"button","aria-controls":"contentIdForA11y2"},slot:"trigger"},[a("div",{staticClass:"is-left has-text-weight-bold"},[t._v("功能：")]),a("ul",[a("button",{staticClass:"button is-info mr-0-5",on:{click:function(e){return e.stopPropagation(),t.copyMembers(e)}}},[t._v("複製名單")]),a("button",{staticClass:"button space-top space-bottom",on:{click:function(e){e.stopPropagation(),t.getMembers(),t.clearHaveReadList(),t.clearNeedReadList()}}},[a("i",{staticClass:"fas fa-sync"})])])]),a("ul",[a("li",{staticClass:"has-text-left"},[a("b-switch",{staticStyle:{height:"36px"},attrs:{"rounded.number":"true",size:""},model:{value:t.hasInClass,callback:function(e){t.hasInClass=e},expression:"hasInClass"}},[t._v(t._s(t.switchTextHasInClass))])],1)])]),a("div",{staticClass:"updated-time"},[t._v("最後更新時間："+t._s(t.lastUpdatedTime))]),a("div",{staticClass:"block-header has-background-white-ter"},[a("div",{staticClass:"is-left has-text-weight-bold"},[t._v("未讀：")]),a("ul",[a("button",{staticClass:"button is-info mr-0-5",on:{click:function(e){return e.stopPropagation(),t.copyClassMembers(e)}}},[t._v("開桌名單")]),a("button",{staticClass:"button is-dark",attrs:{disabled:t.isEmptyHaveReadList},on:{click:function(e){e.preventDefault(),t.finishReadingStatus(t.haveReadList),t.clearHaveReadList()}}},[t._v("送出已讀人員")])])]),a("ul",{staticClass:"table-reading mb-3"},t._l(t.membersNeedRead,(function(e){return a("li",{key:e.id,staticClass:"cell"},[a("button",{staticClass:"button text-left",class:[t.isSelectedInWaitingList(e.id)?"is-dark":"",e.hasRead?"hasRead":""],on:{click:function(a){return a.preventDefault(),t.addToHaveReadList(e.id)}}},[t._v(" "+t._s(t.grades[e.grade])+" "+t._s(e.name)+" "),e.beTeacher?a("span",{staticClass:"has-text-danger ml-0-5"},[t._v("可開")]):t._e(),e.beAlternate?a("span",{staticClass:"has-text-grey-light ml-0-5"},[t._v("候補")]):t._e()])])})),0),a("div",{staticClass:"block-header has-background-white-ter"},[a("div",{staticClass:"is-left has-text-weight-bold"},[t._v("未下課/飛行中：")]),a("div",[a("button",{staticClass:"button mr-0-5",on:{click:function(e){e.preventDefault(),t.finishAllClassStatus(),t.clearNeedReadList()}}},[t._v("一鍵下課 ⇪")]),a("button",{staticClass:"button",attrs:{disabled:t.isEmptyNeedReadList},on:{click:function(e){e.preventDefault(),t.finishClassStatus(t.needReadList),t.clearNeedReadList()}}},[t._v("下課 ⇪")])])]),a("ul",{staticClass:"table-reading mb-3"},t._l(t.membersInClass,(function(e){return a("li",{key:e.id,staticClass:"cell"},[a("button",{staticClass:"button text-left",class:{"is-primary":!t.isSelectedInClassList(e.id)},on:{click:function(a){return a.preventDefault(),t.addToNeedReadList(e.id)}}},[t._v(" "+t._s(t.grades[e.grade])+" "+t._s(e.name)+" "),e.beTeacher?a("span",{staticClass:"has-text-danger ml-0-5"},[t._v("可開")]):t._e(),e.beAlternate?a("span",{staticClass:"has-text-grey-light ml-0-5"},[t._v("候補")]):t._e()])])})),0),a("hr"),t._m(0)],1)},B=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"readme"},[a("div",[t._v("顏色說明：")]),a("div",[a("button",{staticClass:"button is-dark"}),a("span",[t._v("已讀")])]),a("div",[a("button",{staticClass:"button"}),a("span",[t._v("未讀")])]),a("div",[a("button",{staticClass:"button is-primary"}),a("span",[t._v("未下課 / 飛行中")])]),a("div",[a("button",{staticClass:"button hasRead"}),a("span",[t._v("已坐過老杜桌")])])])}],q=(a("7db0"),a("c740"),a("4160"),a("a434"),a("b0c0"),a("159b"),{data:function(){return{grades:f,preGrade:0,haveReadList:[],needReadList:[],showSetting:!1,hasInClass:!0}},methods:Object(o["a"])({isSelectedInWaitingList:function(t){return this.haveReadList.findIndex((function(e){return e===t}))>=0},addToHaveReadList:function(t){var e=this.haveReadList.findIndex((function(e){return e===t}));e>=0?this.haveReadList.splice(e,1):this.$set(this.haveReadList,this.haveReadList.length,t)},clearHaveReadList:function(){var t=this;setTimeout((function(){t.haveReadList=[]}),100)},isSelectedInClassList:function(t){return this.needReadList.findIndex((function(e){return e===t}))>=0},addToNeedReadList:function(t){var e=this.needReadList.findIndex((function(e){return e===t}));e>=0?this.needReadList.splice(e,1):this.$set(this.needReadList,this.needReadList.length,t)},clearNeedReadList:function(){var t=this;setTimeout((function(){t.needReadList=[]}),100)},copyMembers:function(){var t=this,e="",a=0;this.membersNeedRead.length>0&&(e+="=== 未讀 ===\n",a=0,this.preGrade=0,this.members.forEach((function(s){!s.readingStatus&&s.beTeacher&&(0===a&&(e+="老師：",a+=1),e=t.updateGradeForMessage(e,s.grade),e+="".concat(s.name,", "))})),a>0&&(e+="\n"),a=0,this.preGrade=0,this.members.forEach((function(s){s.readingStatus||s.beTeacher||(0===a&&(e+="學生：",a+=1),e=t.updateGradeForMessage(e,s.grade),e+="".concat(s.name,", "))}))),this.hasInClass&&this.membersInClass.length>0&&(e+="\n\n=== 未下課/飛行中 ===\n",a=0,this.preGrade=0,this.members.forEach((function(s){2===s.readingStatus&&s.beTeacher&&(0===a&&(e+="老師：",a+=1),e=t.updateGradeForMessage(e,s.grade),e+="".concat(s.name,", "))})),a>0&&(e+="\n"),a=0,this.preGrade=0,this.members.forEach((function(s){2!==s.readingStatus||s.beTeacher||(0===a&&(e+="學生：",a+=1),e=t.updateGradeForMessage(e,s.grade),e+="".concat(s.name,", "))}))),console.log(e),navigator.clipboard.writeText(e).then((function(){t.success("複製 成功")}),(function(e){t.danger("複製 失敗: ".concat(e))}))},copyClassMembers:function(){var t=this,e="";0!==this.haveReadList.length?this.haveReadList.length>4?this.danger("選取超過四個人啦"):(this.haveReadList.forEach((function(a){var s=Object(o["a"])({},t.members.find((function(t){return t.id===a})));e+="".concat(s.name,", ")})),console.log(e),navigator.clipboard.writeText(e).then((function(){t.success("複製 成功")}),(function(e){t.danger("複製 失敗: ".concat(e))}))):this.danger("請先選取要開桌的人員")},updateGradeForMessage:function(t,e){var a=t;return this.preGrade=0===this.preGrade?e:this.preGrade,this.preGrade!==e&&(a+="// ",this.preGrade=e),a}},Object(l["b"])(["getMembers","switchReadingSetupOperation","switchReadingStatus","finishReadingStatus","finishClassStatus","finishAllClassStatus","success","danger"])),computed:Object(o["a"])({switchTextHasInClass:function(){return this.hasInClass?"顯示未下課/飛行中":"隱藏未下課/飛行中"},isEmptyHaveReadList:function(){return 0===this.haveReadList.length},isEmptyNeedReadList:function(){return 0===this.needReadList.length}},Object(l["c"])(["members","membersNeedRead","membersInClass","lastUpdatedTime"]))}),Y=q,V=(a("811a"),Object(v["a"])(Y,W,B,!1,null,"7a0ee3ab",null)),J=V.exports,K=a("9062"),X=a.n(K),Z=(a("e40d"),{components:{TabMembers:j,TabReadingBefore:F,TabReading:J,Loading:X.a},created:function(){this.getMembers(),this.getLastUpadedTime()},methods:Object(o["a"])({},Object(l["b"])(["getMembers","getLastUpadedTime"])),computed:Object(o["a"])({displayVersion:function(){return"v. ".concat("1.7.20200920.1846")}},Object(l["c"])(["isLoading"]))}),Q=Z,tt=Object(v["a"])(Q,r,d,!1,null,null,null),et=tt.exports,at={name:"App",components:{HanlinFlow:et}},st=at,it=(a("5c0b"),Object(v["a"])(st,n,c,!1,null,null,null)),nt=it.exports,ct=(a("d81d"),a("b64b"),a("c1df")),rt=a.n(ct),dt=a("59ca"),ot=(a("66ce"),{apiKey:"AIzaSyAo3ucyajUjVBZp5f--u1ckGgBFE9X7Tdw",authDomain:"jwgly-tool-hanlin.firebaseapp.com",databaseURL:"https://jwgly-tool-hanlin.firebaseio.com",projectId:"jwgly-tool-hanlin",storageBucket:"jwgly-tool-hanlin.appspot.com",messagingSenderId:"318245930077",appId:"1:318245930077:web:edec68bdd7c7b3162af9b4"});dt["initializeApp"](ot);var lt=dt;s["a"].use(l["a"]);var ut=new l["a"].Store({strict:!0,state:{members:[],showDialog:!1,readingSetupStatus:1,membersNeedRead:[],membersInClass:[],lastUpdatedTime:"",isLoading:!1},actions:{getMembers:function(t){t.commit("SET_LOADING",!0);var e=lt.database().ref("/members/");e.once("value").then((function(e){var a=e.val(),s=Object.keys(a).map((function(t){var e=a[t];return Object(o["a"])({id:t},e)}));s.sort((function(t,e){return t.grade-e.grade})),t.commit("SET_MEMBERS",s),t.commit("SET_LOADING",!1)}))},openDialog:function(t){t.commit("SHOWHIDE_DIALOG",!0)},closeDialog:function(t){t.commit("SHOWHIDE_DIALOG",!1)},createMember:function(t,e){var a=t.state.members.findIndex((function(t){return e.name===t.name}));if(a>=0)this.dispatch("danger","此成員已存在");else{var s=lt.database().ref("/members/");s.push(e),t.commit("SHOWHIDE_DIALOG",!1),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","成員新增成功")}},updateMember:function(t,e){var a=t.state.members.findIndex((function(t){return e.id===t.id}));if(a<0)this.dispatch("danger","此成員不存在");else{var s=Object(o["a"])({},e);delete s.id;var i=lt.database().ref("/members/".concat(e.id));i.set(s),t.commit("SHOWHIDE_DIALOG",!1),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","成員編輯成功")}},deleteMember:function(t,e){var a=t.state.members.findIndex((function(t){return e.id===t.id}));if(a<0)this.dispatch("danger","此成員不存在");else{var s=lt.database().ref("/members/".concat(e.id));s.remove(),t.commit("SHOWHIDE_DIALOG",!1),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","成員已刪除")}},cancel:function(t){t.commit("SHOWHIDE_DIALOG",!1)},resetReadingStatus:function(t){var e=lt.database().ref("/members/");t.state.members.forEach((function(t){var a=Object(o["a"])({},t),s=a.id;0!==a.readingStatus&&(delete a.id,a.readingStatus=0,e.child("".concat(s)).set(a))})),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers")},switchReadingSetupOperation:function(t){1===t.state.readingSetupStatus?t.commit("SET_READING_SETUP_STATUS",2):t.commit("SET_READING_SETUP_STATUS",1)},switchReadingStatus:function(t,e){var a=t.state.members.findIndex((function(t){return e.id===t.id}));if(a<0)this.dispatch("danger","此成員不存在");else{var s=Object(o["a"])({},e);delete s.id,1===t.state.readingSetupStatus?s.readingStatus=s.readingStatus&&2!==s.readingStatus?0:1:s.readingStatus=s.readingStatus&&1!==s.readingStatus?0:2;var i=lt.database().ref("/members/".concat(e.id));i.set(s),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","切換成員讀書狀態成功")}},resetHasRead:function(t){var e=lt.database().ref("/members/");t.state.members.forEach((function(t){var a=Object(o["a"])({},t),s=a.id;0!==a.hasRead&&(delete a.id,a.hasRead=0,e.child("".concat(s)).set(a))})),this.dispatch("getMembers")},switchHasRead:function(t,e){var a=t.state.members.findIndex((function(t){return e.id===t.id}));if(a<0)this.dispatch("danger","此成員不存在");else{var s=Object(o["a"])({},e);delete s.id,s.hasRead=s.hasRead&&0!==s.hasRead?0:1;var i=lt.database().ref("/members/".concat(e.id));i.set(s),this.dispatch("getMembers"),this.dispatch("success","切換老杜桌成功")}},finishReadingStatus:function(t,e){if(0!==e.length){var a=lt.database().ref("/members/");e.forEach((function(e){var s=Object(o["a"])({},t.state.members.find((function(t){return t.id===e})));delete s.id,s.readingStatus=1,a.child("".concat(e)).set(s)})),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","設定部分成員為已讀")}else this.dispatch("danger","請先選擇已讀人員")},finishClassStatus:function(t,e){if(0!==e.length){var a=lt.database().ref("/members/");e.forEach((function(e){var s=Object(o["a"])({},t.state.members.find((function(t){return t.id===e})));delete s.id,s.readingStatus=0,a.child("".concat(e)).set(s)})),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","設定部分成員為未讀")}else this.dispatch("danger","請先選擇下課人員")},finishAllClassStatus:function(t){var e=lt.database().ref("/members/");t.state.members.forEach((function(t){var a=Object(o["a"])({},t),s=a.id;2===a.readingStatus&&(delete a.id,a.readingStatus=0,e.child("".concat(s)).set(a))})),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","設定所有未下課成員為未讀")},getLastUpadedTime:function(t){var e=lt.database().ref("/infos/");e.on("value",(function(e){var a=e.val();t.commit("SET_LASTUPDATETIME",a.lastUpdatedTime)}))},renewLastUpadedTime:function(t){var e=rt()().format("YYYY-MM-DD HH:mm:ss");console.log("lastUpdateTime: ".concat(e)),lt.database().ref("/infos/lastUpdatedTime").set(e),t.commit("SET_LASTUPDATETIME",e)},success:function(t,e){s["a"].prototype.$buefy.toast.open({duration:3e3,message:e,position:"is-bottom",type:"is-success"})},danger:function(t,e){s["a"].prototype.$buefy.toast.open({duration:3e3,message:e,position:"is-bottom",type:"is-danger"})}},mutations:{SET_MEMBERS:function(t,e){t.members=e},SHOWHIDE_DIALOG:function(t,e){t.showDialog=e},SET_READING_SETUP_STATUS:function(t,e){t.readingSetupStatus=e},SET_LASTUPDATETIME:function(t,e){t.lastUpdatedTime=e},SET_LOADING:function(t,e){t.isLoading=e}},getters:{members:function(t){return t.members},showDialog:function(t){return t.showDialog},readingSetupStatus:function(t){return t.readingSetupStatus},membersNeedRead:function(t){var e=[];return t.members.forEach((function(t){t.readingStatus&&0!==t.readingStatus||e.push(t)})),e},membersInClass:function(t){var e=[];return t.members.forEach((function(t){2===t.readingStatus&&e.push(t)})),e},lastUpdatedTime:function(t){return t.lastUpdatedTime},isLoading:function(t){return t.isLoading}},modules:{}});a("52bf");s["a"].use(i["a"],{defaultIconPack:"fas",defaultContainerElement:"#content"}),s["a"].config.productionTip=!1,new s["a"]({store:ut,render:function(t){return t(nt)}}).$mount("#app")},"5bb7":function(t,e,a){},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),i=a.n(s);i.a},"811a":function(t,e,a){"use strict";var s=a("0917"),i=a.n(s);i.a},"87e8":function(t,e,a){"use strict";var s=a("0f30"),i=a.n(s);i.a},"9c0c":function(t,e,a){},a717:function(t,e,a){"use strict";var s=a("ab46"),i=a.n(s);i.a},ab46:function(t,e,a){},ad6a:function(t,e,a){},b3de:function(t,e,a){"use strict";var s=a("5bb7"),i=a.n(s);i.a},b838:function(t,e,a){"use strict";var s=a("3d0a"),i=a.n(s);i.a}});
//# sourceMappingURL=app.f42dd736.js.map