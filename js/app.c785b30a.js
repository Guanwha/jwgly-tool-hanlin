(function(t){function e(e){for(var a,c,r=e[0],d=e[1],o=e[2],u=0,b=[];u<r.length;u++)c=r[u],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&b.push(n[c][0]),n[c]=0;for(a in d)Object.prototype.hasOwnProperty.call(d,a)&&(t[a]=d[a]);l&&l(e);while(b.length)b.shift()();return i.push.apply(i,o||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,r=1;r<s.length;r++){var d=s[r];0!==n[d]&&(a=!1)}a&&(i.splice(e--,1),t=c(c.s=s[0]))}return t}var a={},n={app:0},i=[];function c(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,c),s.l=!0,s.exports}c.m=t,c.c=a,c.d=function(t,e,s){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(c.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(s,a,function(e){return t[e]}.bind(null,a));return s},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/jwgly-tool-hanlin/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],d=r.push.bind(r);r.push=e,r=r.slice();for(var o=0;o<r.length;o++)e(r[o]);var l=d;i.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0f30":function(t,e,s){},2398:function(t,e,s){},2636:function(t,e,s){"use strict";var a=s("2e55"),n=s.n(a);n.a},"27b9":function(t,e,s){"use strict";var a=s("28af"),n=s.n(a);n.a},"28af":function(t,e,s){},"2e55":function(t,e,s){},"3d0a":function(t,e,s){},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=i(t);return s(e)}function i(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}n.keys=function(){return Object.keys(a)},n.resolve=i,t.exports=n,n.id="4678"},"4b76":function(t,e,s){"use strict";var a=s("2398"),n=s.n(a);n.a},"52bf":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=s("289d"),i=(s("5abe"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrap",attrs:{id:"app"}},[s("HanlinFlow")],1)}),c=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),s("b-tabs",{attrs:{type:"is-boxed",expanded:""}},[s("b-tab-item",{attrs:{label:"成員",icon:"users"}},[s("TabMembers")],1),s("b-tab-item",{attrs:{label:"讀書前",icon:"clipboard-list"}},[s("TabReadingBefore")],1),s("b-tab-item",{attrs:{label:"讀書中",icon:"chalkboard-teacher"}},[s("TabReading")],1)],1),s("div",[t._v(t._s(t.displayVersion))])],1)},d=[],o=s("5530"),l=s("2f62"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("button",{staticClass:"button is-primary mt-1 mb-1",on:{click:t.showDialogToCreateMember}},[t._v(" 新增成員 ")]),s("div",{staticClass:"table-wrapper has-mobile-cards"},[s("table",{staticClass:"table is-striped is-narrow is-hoverable"},[t._m(0),s("tbody",t._l(t.members,(function(e){return s("tr",{key:e.id,staticClass:"flex-center",attrs:{draggable:"false"}},[s("td",{staticClass:"flex-center has-text-centered",attrs:{"data-label":"可開"}},[s("b-checkbox",{staticStyle:{padding:"0"},attrs:{disabled:""},model:{value:e.beTeacher,callback:function(s){t.$set(e,"beTeacher",s)},expression:"member.beTeacher"}})],1),s("td",{staticClass:"flex-center has-text-centered",attrs:{"data-label":"候補"}},[s("b-checkbox",{staticStyle:{padding:"0"},attrs:{disabled:""},model:{value:e.beAlternate,callback:function(s){t.$set(e,"beAlternate",s)},expression:"member.beAlternate"}})],1),s("td",{staticClass:"has-text-centered",attrs:{"data-label":"官品"}},[t._v(t._s(t.grades[e.grade]))]),s("td",{staticClass:"has-text-centered",attrs:{"data-label":"名字"}},[t._v(t._s(e.name))]),s("td",{staticClass:"has-text-centered",attrs:{"data-label":"功能"}},[s("button",{staticClass:"button is-primary is-outlined fas fa-pen",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.showDialogToEditMember(e)}}})])])})),0)])]),s("b-modal",{attrs:{active:t.showDialog,"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},on:{close:t.closeDialog}},[s("div",{staticClass:"modal-card"},[s("header",{staticClass:"modal-card-head p-0-8"},[s("p",{staticClass:"modal-card-title has-text-weight-bold"},[t._v("新增成員")])]),s("section",{staticClass:"modal-card-body"},[s("b-field",{staticClass:"has-text-left",attrs:{label:"名字"}},[s("b-input",{attrs:{required:""},model:{value:t.curMember.name,callback:function(e){t.$set(t.curMember,"name",e)},expression:"curMember.name"}})],1),s("b-field",{staticClass:"has-text-left",attrs:{label:"官品"}},[s("b-dropdown",{attrs:{"aria-role":"list"},model:{value:t.curMember.grade,callback:function(e){t.$set(t.curMember,"grade",t._n(e))},expression:"curMember.grade"}},[s("button",{staticClass:"button is-primary",attrs:{slot:"trigger",type:"button"},slot:"trigger"},[[s("span",[t._v(t._s(t.grades[t.curMember.grade]))])],s("b-icon",{attrs:{icon:"caret-down"}})],2),t._l(t.grades,(function(e,a){return s("b-dropdown-item",{key:a,attrs:{value:a,"aria-role":"listitem"}},[s("div",{staticClass:"media"},[s("div",{staticClass:"media-content"},[s("h3",[t._v(t._s(e))])])])])}))],2)],1),s("div",{staticClass:"field has-text-left",staticStyle:{"padding-top":"0.8rem"}},[s("b-checkbox",{model:{value:t.curMember.beTeacher,callback:function(e){t.$set(t.curMember,"beTeacher",e)},expression:"curMember.beTeacher"}},[t._v("是否可以開桌")])],1),s("div",{staticClass:"field has-text-left",staticStyle:{"padding-top":"0.8rem"}},[s("b-checkbox",{model:{value:t.curMember.beAlternate,callback:function(e){t.$set(t.curMember,"beAlternate",e)},expression:"curMember.beAlternate"}},[t._v("是否為候補")])],1)],1),s("footer",{staticClass:"modal-card-foot flex-rsbc p-0-8"},[s("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.cancel(e)}}},[t._v("取消")]),t.isCreate?t._e():s("button",{staticClass:"button is-danger is-outlined fas fa-trash",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.deleteMember(t.curMember)}}}),t.isCreate?s("button",{staticClass:"button is-primary",on:{click:function(e){return e.preventDefault(),t.createMember(t.curMember)}}},[t._v(" 新增 ")]):s("button",{staticClass:"button is-primary",on:{click:function(e){return e.preventDefault(),t.updateMember(t.curMember)}}},[t._v(" 更新 ")])])])])],1)},b=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",{staticStyle:{width:"10%"}},[s("div",{staticClass:"th-wrap has-text-centered"},[t._v("可開")])]),s("th",{staticStyle:{width:"10%"}},[s("div",{staticClass:"th-wrap has-text-centered"},[t._v("候補")])]),s("th",{staticStyle:{width:"20%","min-width":"3rem"}},[s("div",{staticClass:"th-wrap has-text-centered"},[t._v("官品")])]),s("th",{staticStyle:{"min-width":"4rem"}},[s("div",{staticClass:"th-wrap has-text-centered"},[t._v("名字")])]),s("th",{staticStyle:{width:"10%"}},[s("div",{staticClass:"th-wrap has-text-centered"},[t._v("功能")])])])])}],f={100:"正一",101:"從一",102:"正二",103:"從二",104:"正三",105:"從三",106:"正四",107:"從四",108:"正五",109:"從五",110:"正六",111:"從六",112:"正七",113:"從七",114:"正八",115:"從八",116:"正九",117:"從九"},m={name:"",grade:103,beTeacher:!1,beAlternate:!1,timestamp:null},h={data:function(){return{isCreate:!0,curMember:{name:"",grade:103,beTeacher:!1,beAlternate:!1,timestamp:null},grades:f}},methods:Object(o["a"])({showDialogToCreateMember:function(){this.curMember=Object(o["a"])({},m),this.openDialog(),this.isCreate=!0},showDialogToEditMember:function(t){this.curMember=Object(o["a"])({},t),this.openDialog(),this.isCreate=!1}},Object(l["b"])(["openDialog","createMember","updateMember","deleteMember","closeDialog","cancel"])),computed:Object(o["a"])({},Object(l["c"])(["members","showDialog"]))},p=h,v=(s("87e8"),s("2877")),g=Object(v["a"])(p,u,b,!1,null,"f968e9f8",null),j=g.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-tabs",{attrs:{type:"is-boxed",expanded:""}},[s("b-tab-item",{attrs:{label:"狀態",icon:"clipboard-list"}},[s("SubTabSetReadingStatus")],1),s("b-tab-item",{attrs:{label:"老杜桌",icon:"book-medical"}},[s("SubTabSetHasRead")],1),s("b-tab-item",{attrs:{label:"檢查表",icon:"check-square"}},[s("SubTabSetLocalChecking")],1)],1)},S=[],C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"flex-rsbc"},[s("button",{staticClass:"button space-top space-bottom",staticStyle:{width:"5rem"},on:{click:function(e){return e.preventDefault(),t.confirmReset()}}},[t._v(" 初始化 ")]),s("button",{staticClass:"button space-top space-bottom",class:[1===t.readingSetupStatus?"is-dark":"is-primary"],on:{click:function(e){return e.preventDefault(),t.switchReadingSetupOperation()}}},[t._v(" 切換 已讀/未下課 ")]),s("button",{staticClass:"button space-top space-bottom",staticStyle:{width:"5rem"},on:{click:function(e){return e.preventDefault(),t.getMembers()}}},[s("i",{staticClass:"fas fa-sync"})])]),1===t.readingSetupStatus?s("div",{staticClass:"space-bottom"},[t._v("請選擇 已讀 人員")]):t._e(),2===t.readingSetupStatus?s("div",{staticClass:"space-bottom"},[t._v("請選擇 未下課 / 飛行中 人員")]):t._e(),s("div",{staticClass:"table-reading-status"},t._l(t.members,(function(e){return s("div",{key:e.id,staticClass:"cell"},[s("button",{staticClass:"button",class:[e.readingStatus?1===e.readingStatus?"is-dark":"is-primary":""],on:{click:function(s){return s.preventDefault(),t.switchReadingStatus(e)}}},[t._v(" "+t._s(e.name)+" ")])])})),0),s("div",{staticClass:"updated-time"},[t._v("最後更新時間："+t._s(t.lastUpdatedTime))]),s("hr",{staticClass:"mt-0"}),t._m(0)])},y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"readme"},[s("div",[t._v("顏色說明：")]),s("div",[s("button",{staticClass:"button is-dark"}),s("span",[t._v("已讀")])]),s("div",[s("button",{staticClass:"button"}),s("span",[t._v("未讀")])]),s("div",[s("button",{staticClass:"button is-primary"}),s("span",[t._v("未下課 / 飛行中")])])])}],k={methods:Object(o["a"])({confirmReset:function(){var t=this;this.$buefy.dialog.confirm({title:"確定要將全部人員設為未讀?",message:"此動作無法復原。",cancelText:"取消",confirmText:"重設",type:"is-dark",hasIcon:!0,iconPack:"fa",icon:"exclamation-circle",onConfirm:function(){return t.resetReadingStatus()}})}},Object(l["b"])(["getMembers","resetReadingStatus","switchReadingSetupOperation","switchReadingStatus"])),computed:Object(o["a"])({},Object(l["c"])(["readingSetupStatus","members","lastUpdatedTime"]))},w=k,T=(s("2636"),Object(v["a"])(w,C,y,!1,null,"d320cb48",null)),R=T.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"flex-rsbc"},[s("button",{staticClass:"button space-top space-bottom",staticStyle:{width:"5rem"},on:{click:function(e){return e.preventDefault(),t.confirmReset()}}},[t._v(" 初始化 ")]),s("button",{ref:"tempFocus",staticClass:"button space-top space-bottom",staticStyle:{width:"5rem"},on:{click:function(e){return e.preventDefault(),t.getMembers()}}},[s("i",{staticClass:"fas fa-sync"})])]),s("div",{staticClass:"space-bottom"},[t._v("請選擇 已讀老杜桌 人員")]),s("div",{staticClass:"table-reading-status"},t._l(t.members,(function(e){return s("div",{key:e.id,staticClass:"cell"},[s("button",{staticClass:"button",class:t.classBtn(e.hasRead),on:{click:function(s){return s.preventDefault(),t._switchHasRead(e)}}},[t._v(" "+t._s(e.name)+" ")])])})),0),s("hr",{staticClass:"mt-0"}),t._m(0)])},x=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"readme"},[s("div",[t._v("顏色說明：")]),s("div",[s("button",{staticClass:"button is-danger"}),s("span",[t._v("已讀老杜桌")])]),s("div",[s("button",{staticClass:"button btn-reserved"}),s("span",[t._v("預定老杜桌")])]),s("div",[s("button",{staticClass:"button"}),s("span",[t._v("未讀老杜桌")])])])}],L={methods:Object(o["a"])({classBtn:function(t){switch(t){case 1:return"is-danger";case 2:return"btn-reserved";default:return""}},_switchHasRead:function(t){this.$refs.tempFocus.focus(),this.switchHasRead(t)},confirmReset:function(){var t=this;this.$buefy.dialog.confirm({title:"確定要重設老杜桌?",message:"此動作無法復原。",cancelText:"取消",confirmText:"重設",type:"is-danger",hasIcon:!0,onConfirm:function(){return t.resetHasRead()}})}},Object(l["b"])(["getMembers","resetHasRead","switchHasRead"])),computed:Object(o["a"])({},Object(l["c"])(["members"]))},M=L,E=(s("27b9"),Object(v["a"])(M,O,x,!1,null,"5fb334e3",null)),D=E.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"flex-rsbc"},[s("button",{staticClass:"button space-top space-bottom",staticStyle:{width:"5rem"},on:{click:function(e){return e.preventDefault(),t.resetChecks()}}},[t._v(" 初始化 ")]),s("button",{staticClass:"button space-top space-bottom",staticStyle:{width:"5rem"},on:{click:function(e){return e.preventDefault(),t.getMembers()}}},[s("i",{staticClass:"fas fa-sync"})])]),s("div",{staticClass:"space-bottom"},[t._v("狀態不會同步，請隨意使用")]),s("div",{staticClass:"table-reading-status"},t._l(t.members,(function(e){return s("div",{key:e.id,staticClass:"cell"},[s("button",{staticClass:"button",class:[t.checks[e.id]?"is-success":""],on:{click:function(s){return s.preventDefault(),t.setCheck(e.id)}}},[t._v(" "+t._s(e.name)+" ")])])})),0)])},A=[],H={data:function(){return{checks:{}}},methods:Object(o["a"])({resetChecks:function(){this.checks={}},setCheck:function(t){this.checks[t]?this.$set(this.checks,t,!this.checks[t]):this.$set(this.checks,t,!0)}},Object(l["b"])(["getMembers"])),computed:Object(o["a"])({},Object(l["c"])(["members"]))},U=H,G=(s("b3de"),Object(v["a"])(U,I,A,!1,null,"0ac79592",null)),$=G.exports,z={components:{SubTabSetReadingStatus:R,SubTabSetHasRead:D,SubTabSetLocalChecking:$},methods:Object(o["a"])({},Object(l["b"])(["getMembers","resetReadingStatus","switchReadingSetupOperation","switchReadingStatus"])),computed:Object(o["a"])({},Object(l["c"])(["readingSetupStatus","members","lastUpdatedTime"]))},N=z,P=(s("b838"),Object(v["a"])(N,_,S,!1,null,"1b5bd95d",null)),F=P.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-collapse",{staticClass:"panel",attrs:{"aria-id":"contentIdForA11y2",animation:"slide",open:t.showSetting},on:{"update:open":function(e){t.showSetting=e}}},[s("div",{staticClass:"block-header has-background-white-ter",attrs:{slot:"trigger",role:"button","aria-controls":"contentIdForA11y2"},slot:"trigger"},[s("div",{staticClass:"is-left has-text-weight-bold"},[t._v("功能：")]),s("ul",[s("button",{staticClass:"button is-info mr-0-5",on:{click:function(e){return e.stopPropagation(),t.copyMembers(e)}}},[t._v("複製名單")]),s("button",{staticClass:"button space-top space-bottom",on:{click:function(e){e.stopPropagation(),t.getMembers(),t.clearHaveReadList(),t.clearNeedReadList()}}},[s("i",{staticClass:"fas fa-sync"})])])]),s("ul",[s("li",{staticClass:"has-text-left"},[s("b-switch",{staticStyle:{height:"36px"},attrs:{"rounded.number":"true",size:""},model:{value:t.hasInClass,callback:function(e){t.hasInClass=e},expression:"hasInClass"}},[t._v(t._s(t.switchTextHasInClass))])],1)])]),s("div",{staticClass:"updated-time"},[t._v("最後更新時間："+t._s(t.lastUpdatedTime))]),s("div",{staticClass:"block-header has-background-white-ter"},[s("div",{staticClass:"is-left has-text-weight-bold"},[t._v("未讀：")]),s("div",[s("div",[s("button",{staticClass:"button is-info mr-0-5",on:{click:function(e){return e.stopPropagation(),t.copyClassMembers(e)}}},[t._v("開桌名單")]),s("button",{staticClass:"button is-dark",attrs:{disabled:t.isEmptyHaveReadList},on:{click:function(e){e.preventDefault(),t.finishReadingStatus(t.haveReadList),t.clearHaveReadList()}}},[t._v("送出已讀人員")])]),s("div",{staticClass:"flex-rrc"},[s("button",{staticClass:"button is-danger mt-0-5",on:{click:function(e){return e.stopPropagation(),t.copyLouduMembers(e)}}},[t._v("老杜桌名單")])])])]),s("ul",{staticClass:"table-reading mb-3"},t._l(t.membersNeedRead,(function(e){return s("li",{key:e.id,staticClass:"cell"},[s("button",{staticClass:"button text-left",class:[t.isSelectedInWaitingList(e.id)?"is-dark":"",t.classHasReadBtn(e.hasRead)],on:{click:function(s){return s.preventDefault(),t.addToHaveReadList(e.id)}}},[t._v(" "+t._s(t.grades[e.grade])+" "+t._s(e.name)+" "),e.beTeacher?s("span",{staticClass:"has-text-danger ml-0-5"},[t._v("可開")]):t._e(),e.beAlternate?s("span",{staticClass:"has-text-grey-light ml-0-5"},[t._v("候補")]):t._e()])])})),0),s("div",{staticClass:"block-header has-background-white-ter"},[s("div",{staticClass:"is-left has-text-weight-bold"},[t._v("未下課/飛行中：")]),s("div",[s("button",{staticClass:"button mr-0-5",on:{click:function(e){e.preventDefault(),t.finishAllClassStatus(),t.clearNeedReadList()}}},[t._v("一鍵下課 ⇪")]),s("button",{staticClass:"button",attrs:{disabled:t.isEmptyNeedReadList},on:{click:function(e){e.preventDefault(),t.finishClassStatus(t.needReadList),t.clearNeedReadList()}}},[t._v("下課 ⇪")])])]),s("ul",{staticClass:"table-reading mb-3"},t._l(t.membersInClass,(function(e){return s("li",{key:e.id,staticClass:"cell"},[s("button",{staticClass:"button text-left",class:{"is-primary":!t.isSelectedInClassList(e.id)},on:{click:function(s){return s.preventDefault(),t.addToNeedReadList(e.id)}}},[t._v(" "+t._s(t.grades[e.grade])+" "+t._s(e.name)+" "),e.beTeacher?s("span",{staticClass:"has-text-danger ml-0-5"},[t._v("可開")]):t._e(),e.beAlternate?s("span",{staticClass:"has-text-grey-light ml-0-5"},[t._v("候補")]):t._e()])])})),0),s("hr"),t._m(0)],1)},W=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"readme"},[s("div",[t._v("顏色說明：")]),s("div",[s("button",{staticClass:"button is-dark"}),s("span",[t._v("已讀")])]),s("div",[s("button",{staticClass:"button"}),s("span",[t._v("未讀")])]),s("div",[s("button",{staticClass:"button is-primary"}),s("span",[t._v("未下課 / 飛行中")])]),s("div",[s("button",{staticClass:"button btn-reserved"}),s("span",[t._v("預定老杜桌")])])])}],q=(s("4de4"),s("7db0"),s("c740"),s("4160"),s("a434"),s("b0c0"),s("159b"),{data:function(){return{grades:f,preGrade:0,haveReadList:[],needReadList:[],showSetting:!1,hasInClass:!0}},methods:Object(o["a"])({isSelectedInWaitingList:function(t){return this.haveReadList.findIndex((function(e){return e===t}))>=0},addToHaveReadList:function(t){var e=this.haveReadList.findIndex((function(e){return e===t}));e>=0?this.haveReadList.splice(e,1):this.$set(this.haveReadList,this.haveReadList.length,t)},clearHaveReadList:function(){var t=this;setTimeout((function(){t.haveReadList=[]}),100)},isSelectedInClassList:function(t){return this.needReadList.findIndex((function(e){return e===t}))>=0},addToNeedReadList:function(t){var e=this.needReadList.findIndex((function(e){return e===t}));e>=0?this.needReadList.splice(e,1):this.$set(this.needReadList,this.needReadList.length,t)},clearNeedReadList:function(){var t=this;setTimeout((function(){t.needReadList=[]}),100)},copyMembers:function(){var t=this,e="",s=0;this.membersNeedRead.length>0&&(e+="=== 未讀 ===\n",s=0,this.preGrade=0,this.members.forEach((function(a){!a.readingStatus&&a.beTeacher&&(0===s&&(e+="老師：",s+=1),e=t.updateGradeForMessage(e,a.grade),e+="".concat(a.name,", "))})),s>0&&(e+="\n"),s=0,this.preGrade=0,this.members.forEach((function(a){a.readingStatus||a.beTeacher||(0===s&&(e+="學生：",s+=1),e=t.updateGradeForMessage(e,a.grade),e+="".concat(a.name,", "))}))),this.hasInClass&&this.membersInClass.length>0&&(e+="\n\n=== 未下課/飛行中 ===\n",s=0,this.preGrade=0,this.members.forEach((function(a){2===a.readingStatus&&a.beTeacher&&(0===s&&(e+="老師：",s+=1),e=t.updateGradeForMessage(e,a.grade),e+="".concat(a.name,", "))})),s>0&&(e+="\n"),s=0,this.preGrade=0,this.members.forEach((function(a){2!==a.readingStatus||a.beTeacher||(0===s&&(e+="學生：",s+=1),e=t.updateGradeForMessage(e,a.grade),e+="".concat(a.name,", "))}))),console.log(e),navigator.clipboard.writeText(e).then((function(){t.success("複製 成功")}),(function(e){t.danger("複製 失敗: ".concat(e))}))},copyClassMembers:function(){var t=this,e="";0!==this.haveReadList.length?this.haveReadList.length>4?this.danger("選取超過四個人啦"):(this.haveReadList.forEach((function(s){var a=Object(o["a"])({},t.members.find((function(t){return t.id===s})));e+="".concat(a.name,", ")})),console.log(e),navigator.clipboard.writeText(e).then((function(){t.success("複製 成功")}),(function(e){t.danger("複製 失敗: ".concat(e))}))):this.danger("請先選取要開桌的人員")},copyLouduMembers:function(){var t=this,e="";0!==this.membersLoudu.length?this.membersLoudu.length>3?this.danger("選取超過三個學生啦(不需要選老杜)"):(this.membersLoudu.forEach((function(t){e+="".concat(t.name,", ")})),console.log(e),navigator.clipboard.writeText(e).then((function(){t.success("複製 成功")}),(function(e){t.danger("複製 失敗: ".concat(e))}))):this.danger("請先到 讀書前/老杜桌 頁面<br>選取老杜桌的人員")},updateGradeForMessage:function(t,e){var s=t;return this.preGrade=0===this.preGrade?e:this.preGrade,this.preGrade!==e&&(s+="// ",this.preGrade=e),s},classHasReadBtn:function(t){switch(t){case 2:return"btn-reserved";default:return""}}},Object(l["b"])(["getMembers","switchReadingSetupOperation","switchReadingStatus","finishReadingStatus","finishClassStatus","finishAllClassStatus","success","danger"])),computed:Object(o["a"])({switchTextHasInClass:function(){return this.hasInClass?"顯示未下課/飛行中":"隱藏未下課/飛行中"},isEmptyHaveReadList:function(){return 0===this.haveReadList.length},isEmptyNeedReadList:function(){return 0===this.needReadList.length},membersLoudu:function(){return this.membersNeedRead.filter((function(t){return 2===t.hasRead}))}},Object(l["c"])(["members","membersNeedRead","membersInClass","lastUpdatedTime"]))}),Y=q,V=(s("4b76"),Object(v["a"])(Y,B,W,!1,null,"0a93b866",null)),J=V.exports,K=s("9062"),X=s.n(K),Z=(s("e40d"),{components:{TabMembers:j,TabReadingBefore:F,TabReading:J,Loading:X.a},created:function(){this.getMembers(),this.getLastUpadedTime()},methods:Object(o["a"])({},Object(l["b"])(["getMembers","getLastUpadedTime"])),computed:Object(o["a"])({displayVersion:function(){return"v. ".concat("1.8.20201003.443")}},Object(l["c"])(["isLoading"]))}),Q=Z,tt=Object(v["a"])(Q,r,d,!1,null,null,null),et=tt.exports,st={name:"App",components:{HanlinFlow:et}},at=st,nt=(s("5c0b"),Object(v["a"])(at,i,c,!1,null,null,null)),it=nt.exports,ct=(s("d81d"),s("b64b"),s("c1df")),rt=s.n(ct),dt=s("59ca"),ot=(s("66ce"),{apiKey:"AIzaSyAo3ucyajUjVBZp5f--u1ckGgBFE9X7Tdw",authDomain:"jwgly-tool-hanlin.firebaseapp.com",databaseURL:"https://jwgly-tool-hanlin.firebaseio.com",projectId:"jwgly-tool-hanlin",storageBucket:"jwgly-tool-hanlin.appspot.com",messagingSenderId:"318245930077",appId:"1:318245930077:web:edec68bdd7c7b3162af9b4"});dt["initializeApp"](ot);var lt=dt;a["a"].use(l["a"]);var ut=new l["a"].Store({strict:!0,state:{members:[],showDialog:!1,readingSetupStatus:1,membersNeedRead:[],membersInClass:[],lastUpdatedTime:"",isLoading:!1},actions:{getMembers:function(t){t.commit("SET_LOADING",!0);var e=lt.database().ref("/members/");e.once("value").then((function(e){var s=e.val(),a=Object.keys(s).map((function(t){var e=s[t];return Object(o["a"])({id:t},e)}));a.sort((function(t,e){return t.grade-e.grade})),t.commit("SET_MEMBERS",a),t.commit("SET_LOADING",!1)}))},openDialog:function(t){t.commit("SHOWHIDE_DIALOG",!0)},closeDialog:function(t){t.commit("SHOWHIDE_DIALOG",!1)},createMember:function(t,e){var s=t.state.members.findIndex((function(t){return e.name===t.name}));if(s>=0)this.dispatch("danger","此成員已存在");else{var a=lt.database().ref("/members/");a.push(e),t.commit("SHOWHIDE_DIALOG",!1),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","成員新增成功")}},updateMember:function(t,e){var s=t.state.members.findIndex((function(t){return e.id===t.id}));if(s<0)this.dispatch("danger","此成員不存在");else{var a=Object(o["a"])({},e);delete a.id;var n=lt.database().ref("/members/".concat(e.id));n.set(a),t.commit("SHOWHIDE_DIALOG",!1),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","成員編輯成功")}},deleteMember:function(t,e){var s=t.state.members.findIndex((function(t){return e.id===t.id}));if(s<0)this.dispatch("danger","此成員不存在");else{var a=lt.database().ref("/members/".concat(e.id));a.remove(),t.commit("SHOWHIDE_DIALOG",!1),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","成員已刪除")}},cancel:function(t){t.commit("SHOWHIDE_DIALOG",!1)},resetReadingStatus:function(t){var e=lt.database().ref("/members/");t.state.members.forEach((function(t){var s=Object(o["a"])({},t),a=s.id;0!==s.readingStatus&&(delete s.id,s.readingStatus=0,e.child("".concat(a)).set(s))})),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers")},switchReadingSetupOperation:function(t){1===t.state.readingSetupStatus?t.commit("SET_READING_SETUP_STATUS",2):t.commit("SET_READING_SETUP_STATUS",1)},switchReadingStatus:function(t,e){var s=t.state.members.findIndex((function(t){return e.id===t.id}));if(s<0)this.dispatch("danger","此成員不存在");else{var a=Object(o["a"])({},e);delete a.id,1===t.state.readingSetupStatus?a.readingStatus=a.readingStatus&&2!==a.readingStatus?0:1:a.readingStatus=a.readingStatus&&1!==a.readingStatus?0:2;var n=lt.database().ref("/members/".concat(e.id));n.set(a),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","切換成員讀書狀態成功")}},resetHasRead:function(t){var e=lt.database().ref("/members/");t.state.members.forEach((function(t){var s=Object(o["a"])({},t),a=s.id;0!==s.hasRead&&(delete s.id,s.hasRead=0,e.child("".concat(a)).set(s))})),this.dispatch("getMembers")},switchHasRead:function(t,e){var s=t.state.members.findIndex((function(t){return e.id===t.id}));if(s<0)this.dispatch("danger","此成員不存在");else{var a=Object(o["a"])({},e);delete a.id,a.hasRead&&0!==a.hasRead?2===a.hasRead?a.hasRead=1:a.hasRead=0:a.hasRead=2;var n=lt.database().ref("/members/".concat(e.id));n.set(a),this.dispatch("getMembers"),this.dispatch("success","切換老杜桌成功")}},finishReadingStatus:function(t,e){if(0!==e.length){var s=lt.database().ref("/members/");e.forEach((function(e){var a=Object(o["a"])({},t.state.members.find((function(t){return t.id===e})));delete a.id,a.readingStatus=1,s.child("".concat(e)).set(a)})),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","設定部分成員為已讀")}else this.dispatch("danger","請先選擇已讀人員")},finishClassStatus:function(t,e){if(0!==e.length){var s=lt.database().ref("/members/");e.forEach((function(e){var a=Object(o["a"])({},t.state.members.find((function(t){return t.id===e})));delete a.id,a.readingStatus=0,s.child("".concat(e)).set(a)})),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","設定部分成員為未讀")}else this.dispatch("danger","請先選擇下課人員")},finishAllClassStatus:function(t){var e=lt.database().ref("/members/");t.state.members.forEach((function(t){var s=Object(o["a"])({},t),a=s.id;2===s.readingStatus&&(delete s.id,s.readingStatus=0,e.child("".concat(a)).set(s))})),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","設定所有未下課成員為未讀")},getLastUpadedTime:function(t){var e=lt.database().ref("/infos/");e.on("value",(function(e){var s=e.val();t.commit("SET_LASTUPDATETIME",s.lastUpdatedTime)}))},renewLastUpadedTime:function(t){var e=rt()().format("YYYY-MM-DD HH:mm:ss");console.log("lastUpdateTime: ".concat(e)),lt.database().ref("/infos/lastUpdatedTime").set(e),t.commit("SET_LASTUPDATETIME",e)},success:function(t,e){a["a"].prototype.$buefy.toast.open({duration:3e3,message:e,position:"is-bottom",type:"is-success"})},danger:function(t,e){a["a"].prototype.$buefy.toast.open({duration:3e3,message:e,position:"is-bottom",type:"is-danger"})}},mutations:{SET_MEMBERS:function(t,e){t.members=e},SHOWHIDE_DIALOG:function(t,e){t.showDialog=e},SET_READING_SETUP_STATUS:function(t,e){t.readingSetupStatus=e},SET_LASTUPDATETIME:function(t,e){t.lastUpdatedTime=e},SET_LOADING:function(t,e){t.isLoading=e}},getters:{members:function(t){return t.members},showDialog:function(t){return t.showDialog},readingSetupStatus:function(t){return t.readingSetupStatus},membersNeedRead:function(t){var e=[];return t.members.forEach((function(t){t.readingStatus&&0!==t.readingStatus||e.push(t)})),e},membersInClass:function(t){var e=[];return t.members.forEach((function(t){2===t.readingStatus&&e.push(t)})),e},lastUpdatedTime:function(t){return t.lastUpdatedTime},isLoading:function(t){return t.isLoading}},modules:{}});s("52bf");a["a"].use(n["a"],{defaultIconPack:"fas",defaultContainerElement:"#content"}),a["a"].config.productionTip=!1,new a["a"]({store:ut,render:function(t){return t(it)}}).$mount("#app")},"5bb7":function(t,e,s){},"5c0b":function(t,e,s){"use strict";var a=s("9c0c"),n=s.n(a);n.a},"87e8":function(t,e,s){"use strict";var a=s("0f30"),n=s.n(a);n.a},"9c0c":function(t,e,s){},b3de:function(t,e,s){"use strict";var a=s("5bb7"),n=s.n(a);n.a},b838:function(t,e,s){"use strict";var a=s("3d0a"),n=s.n(a);n.a}});
//# sourceMappingURL=app.c785b30a.js.map