(function(e){function t(t){for(var s,r,c=t[0],d=t[1],o=t[2],u=0,b=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&b.push(n[r][0]),n[r]=0;for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(e[s]=d[s]);l&&l(t);while(b.length)b.shift()();return i.push.apply(i,o||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,c=1;c<a.length;c++){var d=a[c];0!==n[d]&&(s=!1)}s&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},n={app:0},i=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/jwgly-tool-hanlin/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=t,c=c.slice();for(var o=0;o<c.length;o++)t(c[o]);var l=d;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0f30":function(e,t,a){},4678:function(e,t,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}n.keys=function(){return Object.keys(s)},n.resolve=i,e.exports=n,n.id="4678"},"508d":function(e,t,a){"use strict";var s=a("5f72"),n=a.n(s);n.a},"52bf":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s=a("2b0e"),n=a("289d"),i=(a("5abe"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrap",attrs:{id:"app"}},[a("HanlinFlow")],1)}),r=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("loading",{attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),a("b-tabs",{attrs:{type:"is-boxed",expanded:""}},[a("b-tab-item",{attrs:{label:"成員",icon:"users"}},[a("TabMembers")],1),a("b-tab-item",{attrs:{label:"讀書前",icon:"clipboard-list"}},[a("TabReadingBefore")],1),a("b-tab-item",{attrs:{label:"讀書中",icon:"chalkboard-teacher"}},[a("TabReading")],1)],1),a("div",[e._v(e._s(e.displayVersion))])],1)},d=[],o=a("5530"),l=a("2f62"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("button",{staticClass:"button is-primary mt-1 mb-1",on:{click:e.showDialogToCreateMember}},[e._v(" 新增成員 ")]),a("div",{staticClass:"table-wrapper has-mobile-cards"},[a("table",{staticClass:"table is-striped is-narrow is-hoverable"},[e._m(0),a("tbody",e._l(e.members,(function(t){return a("tr",{key:t.id,staticClass:"flex-center",attrs:{draggable:"false"}},[a("td",{staticClass:"flex-center has-text-centered",attrs:{"data-label":"可開"}},[a("b-checkbox",{staticStyle:{padding:"0"},attrs:{disabled:""},model:{value:t.beTeacher,callback:function(a){e.$set(t,"beTeacher",a)},expression:"member.beTeacher"}})],1),a("td",{staticClass:"flex-center has-text-centered",attrs:{"data-label":"候補"}},[a("b-checkbox",{staticStyle:{padding:"0"},attrs:{disabled:""},model:{value:t.beAlternate,callback:function(a){e.$set(t,"beAlternate",a)},expression:"member.beAlternate"}})],1),a("td",{staticClass:"has-text-centered",attrs:{"data-label":"官品"}},[e._v(e._s(e.grades[t.grade]))]),a("td",{staticClass:"has-text-centered",attrs:{"data-label":"名字"}},[e._v(e._s(t.name))]),a("td",{staticClass:"has-text-centered",attrs:{"data-label":"功能"}},[a("button",{staticClass:"button is-primary is-outlined fas fa-pen",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),e.showDialogToEditMember(t)}}})])])})),0)])]),a("b-modal",{attrs:{active:e.showDialog,"has-modal-card":"","trap-focus":"","destroy-on-hide":!1,"aria-role":"dialog","aria-modal":""},on:{close:e.closeDialog}},[a("div",{staticClass:"modal-card"},[a("header",{staticClass:"modal-card-head p-0-8"},[a("p",{staticClass:"modal-card-title has-text-weight-bold"},[e._v("新增成員")])]),a("section",{staticClass:"modal-card-body"},[a("b-field",{staticClass:"has-text-left",attrs:{label:"名字"}},[a("b-input",{attrs:{required:""},model:{value:e.curMember.name,callback:function(t){e.$set(e.curMember,"name",t)},expression:"curMember.name"}})],1),a("b-field",{staticClass:"has-text-left",attrs:{label:"官品"}},[a("b-dropdown",{attrs:{"aria-role":"list"},model:{value:e.curMember.grade,callback:function(t){e.$set(e.curMember,"grade",e._n(t))},expression:"curMember.grade"}},[a("button",{staticClass:"button is-primary",attrs:{slot:"trigger",type:"button"},slot:"trigger"},[[a("span",[e._v(e._s(e.grades[e.curMember.grade]))])],a("b-icon",{attrs:{icon:"caret-down"}})],2),e._l(e.grades,(function(t,s){return a("b-dropdown-item",{key:s,attrs:{value:s,"aria-role":"listitem"}},[a("div",{staticClass:"media"},[a("div",{staticClass:"media-content"},[a("h3",[e._v(e._s(t))])])])])}))],2)],1),a("div",{staticClass:"field has-text-left",staticStyle:{"padding-top":"0.8rem"}},[a("b-checkbox",{model:{value:e.curMember.beTeacher,callback:function(t){e.$set(e.curMember,"beTeacher",t)},expression:"curMember.beTeacher"}},[e._v("是否可以開桌")])],1),a("div",{staticClass:"field has-text-left",staticStyle:{"padding-top":"0.8rem"}},[a("b-checkbox",{model:{value:e.curMember.beAlternate,callback:function(t){e.$set(e.curMember,"beAlternate",t)},expression:"curMember.beAlternate"}},[e._v("是否為候補")])],1)],1),a("footer",{staticClass:"modal-card-foot flex-rsbc p-0-8"},[a("button",{staticClass:"button",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.cancel(t)}}},[e._v("取消")]),e.isCreate?e._e():a("button",{staticClass:"button is-danger is-outlined fas fa-trash",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.deleteMember(e.curMember)}}}),e.isCreate?a("button",{staticClass:"button is-primary",on:{click:function(t){return t.preventDefault(),e.createMember(e.curMember)}}},[e._v(" 新增 ")]):a("button",{staticClass:"button is-primary",on:{click:function(t){return t.preventDefault(),e.updateMember(e.curMember)}}},[e._v(" 更新 ")])])])])],1)},b=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",[a("tr",[a("th",{staticStyle:{width:"10%"}},[a("div",{staticClass:"th-wrap has-text-centered"},[e._v("可開")])]),a("th",{staticStyle:{width:"10%"}},[a("div",{staticClass:"th-wrap has-text-centered"},[e._v("候補")])]),a("th",{staticStyle:{width:"20%","min-width":"3rem"}},[a("div",{staticClass:"th-wrap has-text-centered"},[e._v("官品")])]),a("th",{staticStyle:{"min-width":"4rem"}},[a("div",{staticClass:"th-wrap has-text-centered"},[e._v("名字")])]),a("th",{staticStyle:{width:"10%"}},[a("div",{staticClass:"th-wrap has-text-centered"},[e._v("功能")])])])])}],f={100:"正一",101:"從一",102:"正二",103:"從二",104:"正三",105:"從三",106:"正四",107:"從四",108:"正五",109:"從五",110:"正六",111:"從六",112:"正七",113:"從七",114:"正八",115:"從八",116:"正九",117:"從九"},m={name:"",grade:103,beTeacher:!1,beAlternate:!1,timestamp:null},h={data:function(){return{isCreate:!0,curMember:{name:"",grade:103,beTeacher:!1,beAlternate:!1,timestamp:null},grades:f}},methods:Object(o["a"])({showDialogToCreateMember:function(){this.curMember=Object(o["a"])({},m),this.openDialog(),this.isCreate=!0},showDialogToEditMember:function(e){this.curMember=Object(o["a"])({},e),this.openDialog(),this.isCreate=!1}},Object(l["b"])(["openDialog","createMember","updateMember","deleteMember","closeDialog","cancel"])),computed:Object(o["a"])({},Object(l["c"])(["members","showDialog"]))},p=h,g=(a("87e8"),a("2877")),v=Object(g["a"])(p,u,b,!1,null,"f968e9f8",null),j=v.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"flex-rsbc"},[a("button",{staticClass:"button space-top space-bottom",staticStyle:{width:"5rem"},on:{click:function(t){return t.preventDefault(),e.resetReadingStatus()}}},[e._v(" 初始化 ")]),a("button",{staticClass:"button space-top space-bottom",class:[1===e.readingSetupStatus?"is-dark":"is-primary"],on:{click:function(t){return t.preventDefault(),e.switchReadingSetupOperation()}}},[e._v(" 切換 已讀/未下課 ")]),a("button",{staticClass:"button space-top space-bottom",staticStyle:{width:"5rem"},on:{click:function(t){return t.preventDefault(),e.getMembers()}}},[a("i",{staticClass:"fas fa-sync"})])]),1===e.readingSetupStatus?a("div",{staticClass:"space-bottom"},[e._v("請選擇 已讀 人員")]):e._e(),2===e.readingSetupStatus?a("div",{staticClass:"space-bottom"},[e._v("請選擇 未下課 / 飛行中 人員")]):e._e(),a("div",{staticClass:"table-reading-status"},e._l(e.members,(function(t){return a("div",{key:t.id,staticClass:"cell"},[a("button",{staticClass:"button",class:[t.readingStatus?1===t.readingStatus?"is-dark":"is-primary":""],on:{click:function(a){return a.preventDefault(),e.switchReadingStatus(t)}}},[e._v(" "+e._s(t.name)+" ")])])})),0),a("div",{staticClass:"updated-time"},[e._v("最後更新時間："+e._s(e.lastUpdatedTime))]),a("hr",{staticClass:"mt-0"}),e._m(0)])},S=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"readme"},[a("div",[e._v("顏色說明：")]),a("div",[a("button",{staticClass:"button is-dark"}),a("span",[e._v("已讀")])]),a("div",[a("button",{staticClass:"button"}),a("span",[e._v("未讀")])]),a("div",[a("button",{staticClass:"button is-primary"}),a("span",[e._v("未下課 / 飛行中")])])])}],C={methods:Object(o["a"])({},Object(l["b"])(["getMembers","resetReadingStatus","switchReadingSetupOperation","switchReadingStatus"])),computed:Object(o["a"])({},Object(l["c"])(["readingSetupStatus","members","lastUpdatedTime"]))},y=C,T=(a("d478"),Object(g["a"])(y,_,S,!1,null,"3caed916",null)),w=T.exports,k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-collapse",{staticClass:"panel",attrs:{"aria-id":"contentIdForA11y2",animation:"slide",open:e.showSetting},on:{"update:open":function(t){e.showSetting=t}}},[a("div",{staticClass:"block-header has-background-white-ter",attrs:{slot:"trigger",role:"button","aria-controls":"contentIdForA11y2"},slot:"trigger"},[a("div",{staticClass:"is-left has-text-weight-bold"},[e._v("功能：")]),a("ul",[a("button",{staticClass:"button is-info mr-0-5",on:{click:function(t){return t.stopPropagation(),e.copyMembers(t)}}},[e._v("複製名單")]),a("button",{staticClass:"button space-top space-bottom",on:{click:function(t){t.stopPropagation(),e.getMembers(),e.clearHaveReadList(),e.clearNeedReadList()}}},[a("i",{staticClass:"fas fa-sync"})])])]),a("ul",[a("li",{staticClass:"has-text-left"},[a("b-switch",{staticStyle:{height:"36px"},attrs:{"rounded.number":"true",size:""},model:{value:e.hasInClass,callback:function(t){e.hasInClass=t},expression:"hasInClass"}},[e._v(e._s(e.switchTextHasInClass))])],1)])]),a("div",{staticClass:"updated-time"},[e._v("最後更新時間："+e._s(e.lastUpdatedTime))]),a("div",{staticClass:"block-header has-background-white-ter"},[a("div",{staticClass:"is-left has-text-weight-bold"},[e._v("未讀：")]),a("ul",[a("button",{staticClass:"button is-info mr-0-5",on:{click:function(t){return t.stopPropagation(),e.copyClassMembers(t)}}},[e._v("開桌名單")]),a("button",{staticClass:"button is-dark",attrs:{disabled:e.isEmptyHaveReadList},on:{click:function(t){t.preventDefault(),e.finishReadingStatus(e.haveReadList),e.clearHaveReadList()}}},[e._v("送出已讀人員")])])]),a("ul",{staticClass:"table-reading mb-3"},e._l(e.membersNeedRead,(function(t){return a("li",{key:t.id,staticClass:"cell"},[a("button",{staticClass:"button text-left",class:{"is-dark":e.isSelectedInWaitingList(t.id)},on:{click:function(a){return a.preventDefault(),e.addToHaveReadList(t.id)}}},[e._v(" "+e._s(e.grades[t.grade])+" "+e._s(t.name)+" "),t.beTeacher?a("span",{staticClass:"has-text-danger ml-0-5"},[e._v("可開")]):e._e(),t.beAlternate?a("span",{staticClass:"has-text-grey-light ml-0-5"},[e._v("候補")]):e._e()])])})),0),a("div",{staticClass:"block-header has-background-white-ter"},[a("div",{staticClass:"is-left has-text-weight-bold"},[e._v("未下課/飛行中：")]),a("div",[a("button",{staticClass:"button mr-0-5",on:{click:function(t){t.preventDefault(),e.finishAllClassStatus(),e.clearNeedReadList()}}},[e._v("一鍵下課 ⇪")]),a("button",{staticClass:"button",attrs:{disabled:e.isEmptyNeedReadList},on:{click:function(t){t.preventDefault(),e.finishClassStatus(e.needReadList),e.clearNeedReadList()}}},[e._v("下課 ⇪")])])]),a("ul",{staticClass:"table-reading mb-3"},e._l(e.membersInClass,(function(t){return a("li",{key:t.id,staticClass:"cell"},[a("button",{staticClass:"button text-left",class:{"is-primary":!e.isSelectedInClassList(t.id)},on:{click:function(a){return a.preventDefault(),e.addToNeedReadList(t.id)}}},[e._v(" "+e._s(e.grades[t.grade])+" "+e._s(t.name)+" "),t.beTeacher?a("span",{staticClass:"has-text-danger ml-0-5"},[e._v("可開")]):e._e(),t.beAlternate?a("span",{staticClass:"has-text-grey-light ml-0-5"},[e._v("候補")]):e._e()])])})),0),a("hr"),e._m(0)],1)},L=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"readme"},[a("div",[e._v("顏色說明：")]),a("div",[a("button",{staticClass:"button is-dark"}),a("span",[e._v("已讀")])]),a("div",[a("button",{staticClass:"button"}),a("span",[e._v("未讀")])]),a("div",[a("button",{staticClass:"button is-primary"}),a("span",[e._v("未下課 / 飛行中")])])])}],M=(a("7db0"),a("c740"),a("4160"),a("a434"),a("b0c0"),a("159b"),{data:function(){return{grades:f,preGrade:0,haveReadList:[],needReadList:[],showSetting:!1,hasInClass:!0}},methods:Object(o["a"])({isSelectedInWaitingList:function(e){return this.haveReadList.findIndex((function(t){return t===e}))>=0},addToHaveReadList:function(e){var t=this.haveReadList.findIndex((function(t){return t===e}));t>=0?this.haveReadList.splice(t,1):this.$set(this.haveReadList,this.haveReadList.length,e)},clearHaveReadList:function(){var e=this;setTimeout((function(){e.haveReadList=[]}),100)},isSelectedInClassList:function(e){return this.needReadList.findIndex((function(t){return t===e}))>=0},addToNeedReadList:function(e){var t=this.needReadList.findIndex((function(t){return t===e}));t>=0?this.needReadList.splice(t,1):this.$set(this.needReadList,this.needReadList.length,e)},clearNeedReadList:function(){var e=this;setTimeout((function(){e.needReadList=[]}),100)},copyMembers:function(){var e=this,t="",a=0;this.membersNeedRead.length>0&&(t+="=== 未讀 ===\n",a=0,this.preGrade=0,this.members.forEach((function(s){!s.readingStatus&&s.beTeacher&&(0===a&&(t+="老師：",a+=1),t=e.updateGradeForMessage(t,s.grade),t+="".concat(s.name,", "))})),a>0&&(t+="\n"),a=0,this.preGrade=0,this.members.forEach((function(s){s.readingStatus||s.beTeacher||(0===a&&(t+="學生：",a+=1),t=e.updateGradeForMessage(t,s.grade),t+="".concat(s.name,", "))}))),this.hasInClass&&this.membersInClass.length>0&&(t+="\n\n=== 未下課/飛行中 ===\n",a=0,this.preGrade=0,this.members.forEach((function(s){2===s.readingStatus&&s.beTeacher&&(0===a&&(t+="老師：",a+=1),t=e.updateGradeForMessage(t,s.grade),t+="".concat(s.name,", "))})),a>0&&(t+="\n"),a=0,this.preGrade=0,this.members.forEach((function(s){2!==s.readingStatus||s.beTeacher||(0===a&&(t+="學生：",a+=1),t=e.updateGradeForMessage(t,s.grade),t+="".concat(s.name,", "))}))),console.log(t),navigator.clipboard.writeText(t).then((function(){e.success("複製 成功")}),(function(t){e.danger("複製 失敗: ".concat(t))}))},copyClassMembers:function(){var e=this,t="";0!==this.haveReadList.length?this.haveReadList.length>4?this.danger("選取超過四個人啦"):(this.haveReadList.forEach((function(a){var s=Object(o["a"])({},e.members.find((function(e){return e.id===a})));t+="".concat(s.name,", ")})),console.log(t),navigator.clipboard.writeText(t).then((function(){e.success("複製 成功")}),(function(t){e.danger("複製 失敗: ".concat(t))}))):this.danger("請先選取要開桌的人員")},updateGradeForMessage:function(e,t){var a=e;return this.preGrade=0===this.preGrade?t:this.preGrade,this.preGrade!==t&&(a+="// ",this.preGrade=t),a}},Object(l["b"])(["getMembers","switchReadingSetupOperation","switchReadingStatus","finishReadingStatus","finishClassStatus","finishAllClassStatus","success","danger"])),computed:Object(o["a"])({switchTextHasInClass:function(){return this.hasInClass?"顯示未下課/飛行中":"隱藏未下課/飛行中"},isEmptyHaveReadList:function(){return 0===this.haveReadList.length},isEmptyNeedReadList:function(){return 0===this.needReadList.length}},Object(l["c"])(["members","membersNeedRead","membersInClass","lastUpdatedTime"]))}),x=M,O=(a("508d"),Object(g["a"])(x,k,L,!1,null,"2e4bcb20",null)),R=O.exports,E=a("9062"),D=a.n(E),I=(a("e40d"),{components:{TabMembers:j,TabReadingBefore:w,TabReading:R,Loading:D.a},created:function(){this.getMembers(),this.getLastUpadedTime()},methods:Object(o["a"])({},Object(l["b"])(["getMembers","getLastUpadedTime"])),computed:Object(o["a"])({displayVersion:function(){return"v. ".concat("1.6.20200711.922")}},Object(l["c"])(["isLoading"]))}),A=I,U=Object(g["a"])(A,c,d,!1,null,null,null),G=U.exports,z={name:"App",components:{HanlinFlow:G}},H=z,N=(a("5c0b"),Object(g["a"])(H,i,r,!1,null,null,null)),$=N.exports,P=(a("d81d"),a("b64b"),a("c1df")),F=a.n(P),W=a("59ca"),B=(a("66ce"),{apiKey:"AIzaSyAo3ucyajUjVBZp5f--u1ckGgBFE9X7Tdw",authDomain:"jwgly-tool-hanlin.firebaseapp.com",databaseURL:"https://jwgly-tool-hanlin.firebaseio.com",projectId:"jwgly-tool-hanlin",storageBucket:"jwgly-tool-hanlin.appspot.com",messagingSenderId:"318245930077",appId:"1:318245930077:web:edec68bdd7c7b3162af9b4"});W["initializeApp"](B);var Y=W;s["a"].use(l["a"]);var q=new l["a"].Store({strict:!0,state:{members:[],showDialog:!1,readingSetupStatus:1,membersNeedRead:[],membersInClass:[],lastUpdatedTime:"",isLoading:!1},actions:{getMembers:function(e){e.commit("SET_LOADING",!0);var t=Y.database().ref("/members/");t.once("value").then((function(t){var a=t.val(),s=Object.keys(a).map((function(e){var t=a[e];return Object(o["a"])({id:e},t)}));s.sort((function(e,t){return e.grade-t.grade})),e.commit("SET_MEMBERS",s),e.commit("SET_LOADING",!1)}))},openDialog:function(e){e.commit("SHOWHIDE_DIALOG",!0)},closeDialog:function(e){e.commit("SHOWHIDE_DIALOG",!1)},createMember:function(e,t){var a=e.state.members.findIndex((function(e){return t.name===e.name}));if(a>=0)this.dispatch("danger","此成員已存在");else{var s=Y.database().ref("/members/");s.push(t),e.commit("SHOWHIDE_DIALOG",!1),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","成員新增成功")}},updateMember:function(e,t){var a=e.state.members.findIndex((function(e){return t.id===e.id}));if(a<0)this.dispatch("danger","此成員不存在");else{var s=Object(o["a"])({},t);delete s.id;var n=Y.database().ref("/members/".concat(t.id));n.set(s),e.commit("SHOWHIDE_DIALOG",!1),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","成員編輯成功")}},deleteMember:function(e,t){var a=e.state.members.findIndex((function(e){return t.id===e.id}));if(a<0)this.dispatch("danger","此成員不存在");else{var s=Y.database().ref("/members/".concat(t.id));s.remove(),e.commit("SHOWHIDE_DIALOG",!1),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","成員已刪除")}},cancel:function(e){e.commit("SHOWHIDE_DIALOG",!1)},resetReadingStatus:function(e){var t=Y.database().ref("/members/");e.state.members.forEach((function(e){var a=Object(o["a"])({},e),s=a.id;0!==a.readingStatus&&(delete a.id,a.readingStatus=0,t.child("".concat(s)).set(a))})),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers")},switchReadingSetupOperation:function(e){1===e.state.readingSetupStatus?e.commit("SET_READING_SETUP_STATUS",2):e.commit("SET_READING_SETUP_STATUS",1)},switchReadingStatus:function(e,t){var a=e.state.members.findIndex((function(e){return t.id===e.id}));if(a<0)this.dispatch("danger","此成員不存在");else{var s=Object(o["a"])({},t);delete s.id,1===e.state.readingSetupStatus?s.readingStatus=s.readingStatus&&2!==s.readingStatus?0:1:s.readingStatus=s.readingStatus&&1!==s.readingStatus?0:2;var n=Y.database().ref("/members/".concat(t.id));n.set(s),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","切換成員讀書狀態成功")}},finishReadingStatus:function(e,t){if(0!==t.length){var a=Y.database().ref("/members/");t.forEach((function(t){var s=Object(o["a"])({},e.state.members.find((function(e){return e.id===t})));delete s.id,s.readingStatus=1,a.child("".concat(t)).set(s)})),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","設定部分成員為已讀")}else this.dispatch("danger","請先選擇已讀人員")},finishClassStatus:function(e,t){if(0!==t.length){var a=Y.database().ref("/members/");t.forEach((function(t){var s=Object(o["a"])({},e.state.members.find((function(e){return e.id===t})));delete s.id,s.readingStatus=0,a.child("".concat(t)).set(s)})),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","設定部分成員為未讀")}else this.dispatch("danger","請先選擇下課人員")},finishAllClassStatus:function(e){var t=Y.database().ref("/members/");e.state.members.forEach((function(e){var a=Object(o["a"])({},e),s=a.id;2===a.readingStatus&&(delete a.id,a.readingStatus=0,t.child("".concat(s)).set(a))})),this.dispatch("renewLastUpadedTime"),this.dispatch("getMembers"),this.dispatch("success","設定所有未下課成員為未讀")},getLastUpadedTime:function(e){var t=Y.database().ref("/infos/");t.on("value",(function(t){var a=t.val();e.commit("SET_LASTUPDATETIME",a.lastUpdatedTime)}))},renewLastUpadedTime:function(e){var t=F()().format("YYYY-MM-DD HH:mm:ss");console.log("lastUpdateTime: ".concat(t)),Y.database().ref("/infos/lastUpdatedTime").set(t),e.commit("SET_LASTUPDATETIME",t)},success:function(e,t){s["a"].prototype.$buefy.toast.open({duration:3e3,message:t,position:"is-bottom",type:"is-success"})},danger:function(e,t){s["a"].prototype.$buefy.toast.open({duration:3e3,message:t,position:"is-bottom",type:"is-danger"})}},mutations:{SET_MEMBERS:function(e,t){e.members=t},SHOWHIDE_DIALOG:function(e,t){e.showDialog=t},SET_READING_SETUP_STATUS:function(e,t){e.readingSetupStatus=t},SET_LASTUPDATETIME:function(e,t){e.lastUpdatedTime=t},SET_LOADING:function(e,t){e.isLoading=t}},getters:{members:function(e){return e.members},showDialog:function(e){return e.showDialog},readingSetupStatus:function(e){return e.readingSetupStatus},membersNeedRead:function(e){var t=[];return e.members.forEach((function(e){e.readingStatus&&0!==e.readingStatus||t.push(e)})),t},membersInClass:function(e){var t=[];return e.members.forEach((function(e){2===e.readingStatus&&t.push(e)})),t},lastUpdatedTime:function(e){return e.lastUpdatedTime},isLoading:function(e){return e.isLoading}},modules:{}});a("52bf");s["a"].use(n["a"],{defaultIconPack:"fas",defaultContainerElement:"#content"}),s["a"].config.productionTip=!1,new s["a"]({store:q,render:function(e){return e($)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";var s=a("9c0c"),n=a.n(s);n.a},"5f72":function(e,t,a){},"87e8":function(e,t,a){"use strict";var s=a("0f30"),n=a.n(s);n.a},"9c0c":function(e,t,a){},b05d:function(e,t,a){},d478:function(e,t,a){"use strict";var s=a("b05d"),n=a.n(s);n.a}});
//# sourceMappingURL=app.f282ce1f.js.map